(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2872c189"],{"3b3a":function(e,n,t){"use strict";t.r(n);var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{ref:"container",staticStyle:{width:"100%",height:"100%","background-color":"#000000",margin:"0 auto"},on:{dblclick:e.fullscreenSwich}},[t("div",{staticClass:"buttons-box",attrs:{id:"buttonsBox"}},[t("div",{staticClass:"buttons-box-left"},[e.playing?e._e():t("i",{staticClass:"iconfont icon-play jessibuca-btn",on:{click:e.playBtnClick}}),e.playing?t("i",{staticClass:"iconfont icon-pause jessibuca-btn",on:{click:e.pause}}):e._e(),t("i",{staticClass:"iconfont icon-stop jessibuca-btn",on:{click:e.destroy}}),e.isNotMute?t("i",{staticClass:"iconfont icon-audio-high jessibuca-btn",on:{click:function(n){return e.mute()}}}):e._e(),e.isNotMute?e._e():t("i",{staticClass:"iconfont icon-audio-mute jessibuca-btn",on:{click:function(n){return e.cancelMute()}}})]),t("div",{staticClass:"buttons-box-right"},[t("span",{staticClass:"jessibuca-btn"},[e._v(e._s(e.kBps)+" kb/s")]),t("i",{staticClass:"iconfont icon-camera1196054easyiconnet jessibuca-btn",staticStyle:{"font-size":"1rem !important"},on:{click:e.screenshot}}),t("i",{staticClass:"iconfont icon-shuaxin11 jessibuca-btn",on:{click:e.playBtnClick}}),e.fullscreen?e._e():t("i",{staticClass:"iconfont icon-weibiaoti10 jessibuca-btn",on:{click:e.fullscreenSwich}}),e.fullscreen?t("i",{staticClass:"iconfont icon-weibiaoti11 jessibuca-btn",on:{click:e.fullscreenSwich}}):e._e()])])])},i=[],s=t("c7eb"),c=t("1da1"),u={},a={name:"jessibuca",data:function(){return{playing:!1,isNotMute:!1,quieting:!1,fullscreen:!1,loaded:!1,speed:0,performance:"",kBps:0,btnDom:null,videoInfo:null,volume:1,rotate:0,vod:!0,forceNoOffscreen:!1}},props:["videoUrl","error","hasAudio","height"],mounted:function(){var e=this;window.onerror=function(e){},console.log(this._uid);var n=decodeURIComponent(this.$route.params.url);this.$nextTick((function(){e.updatePlayerDomSize(),window.onresize=function(){e.updatePlayerDomSize()},"undefined"==typeof e.videoUrl&&(e.videoUrl=n),e.btnDom=document.getElementById("buttonsBox"),console.log("初始化时的地址为: "+e.videoUrl),e.play(e.videoUrl)}))},watch:{videoUrl:function(e,n){this.play(e)},immediate:!0},methods:{updatePlayerDomSize:function(){var e=this.$refs.container,n=e.parentNode.clientWidth,t=9/16*n,o=Math.min(document.body.clientHeight,document.documentElement.clientHeight);t>o&&(t=o,n=16/9*t),e.style.width=n+"px",e.style.height=t+"px"},create:function(){var e={};console.log("hasAudio  "+this.hasAudio),u[this._uid]=new window.JessibucaPro(Object.assign({container:this.$refs.container,autoWasm:!0,background:"",controlAutoHide:!1,debug:!1,decoder:"/js/jessibuca-pro/decoder-pro.js",forceNoOffscreen:!0,hasAudio:"undefined"==typeof this.hasAudio||this.hasAudio,hasVideo:!0,heartTimeout:5,heartTimeoutReplay:!0,heartTimeoutReplayTimes:3,hiddenAutoPause:!1,hotKey:!1,isFlv:!1,isFullResize:!1,isNotMute:this.isNotMute,isResize:!1,keepScreenOn:!1,loadingText:"请稍等, 视频加载中......",loadingTimeout:10,loadingTimeoutReplay:!0,loadingTimeoutReplayTimes:3,openWebglAlignment:!1,operateBtns:{fullscreen:!1,screenshot:!1,play:!1,audio:!1,record:!1},recordType:"webm",rotate:0,showBandwidth:!1,supportDblclickFullscreen:!1,timeout:10,useMSE:"localhost"!==location.hostname&&"https:"!==location.protocol,useOffscreen:!1,useWCS:"localhost"===location.hostname||"https"===location.protocol,useWebFullScreen:!1,videoBuffer:0,wasmDecodeAudioSyncVideo:!0,wasmDecodeErrorReplay:!0,wcsUseVideoRender:!0},e));var n=u[this._uid],t=this;n.on("load",(function(){console.log("on load init")})),n.on("log",(function(e){console.log("on log",e)})),n.on("record",(function(e){console.log("on record:",e)})),n.on("pause",(function(){t.playing=!1})),n.on("play",(function(){t.playing=!0})),n.on("fullscreen",(function(e){console.log("on fullscreen",e),t.fullscreen=e})),n.on("mute",(function(e){console.log("on mute",e),t.isNotMute=!e})),n.on("audioInfo",(function(e){console.log("audioInfo",e)})),n.on("bps",(function(e){}));n.on("timeUpdate",(function(e){e})),n.on("videoInfo",(function(e){console.log("videoInfo",e)})),n.on("error",(function(e){console.log("error",e)})),n.on("timeout",(function(){console.log("timeout")})),n.on("start",(function(){console.log("start")})),n.on("performance",(function(e){var n="卡顿";2===e?n="非常流畅":1===e&&(n="流畅"),t.performance=n})),n.on("buffer",(function(e){})),n.on("stats",(function(e){})),n.on("kBps",(function(e){t.kBps=Math.round(e)})),n.on("videoFrame",(function(){})),n.on("metadata",(function(){}))},playBtnClick:function(e){this.play(this.videoUrl)},play:function(e){var n=this;u[this._uid]?this.destroy().then((function(){u[n._uid].on("play",(function(){n.playing=!0,n.loaded=!0})),u[n._uid].hasLoaded()?u[n._uid].play(e):u[n._uid].on("load",(function(){console.log("load 播放"),u[n._uid].play(e)}))})):(this.create(),u[this._uid].on("play",(function(){n.playing=!0,n.loaded=!0})),u[this._uid].hasLoaded()?u[this._uid].play(e):u[this._uid].on("load",(function(){console.log("load 播放"),u[n._uid].play(e)})))},pause:function(){u[this._uid]&&u[this._uid].pause(),this.playing=!1,this.err="",this.performance=""},screenshot:function(){u[this._uid]&&u[this._uid].screenshot()},mute:function(){u[this._uid]&&u[this._uid].mute()},cancelMute:function(){u[this._uid]&&u[this._uid].cancelMute()},destroy:function(){var e=Object(c["a"])(Object(s["a"])().mark((function e(){var n=this;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!u[this._uid]){e.next=5;break}return e.next=3,u[this._uid].destroy().then((function(){n.create()}));case 3:e.next=6;break;case 5:this.create();case 6:null==document.getElementById("buttonsBox")&&this.$refs.container.appendChild(this.btnDom),u[this._uid]=null,this.playing=!1,this.err="",this.performance="";case 11:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}(),eventcallbacK:function(e,n){},fullscreenSwich:function(){var e=this.isFullscreen();u[this._uid].setFullscreen(!e),this.fullscreen=!e},isFullscreen:function(){return document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||!1}},destroyed:function(){u[this._uid]&&u[this._uid].destroy(),this.playing=!1,this.loaded=!1,this.performance=""}},l=a,r=(t("3b8c"),t("2877")),d=Object(r["a"])(l,o,i,!1,null,null,null);n["default"]=d.exports},"3b8c":function(e,n,t){"use strict";t("a9f2")},a9f2:function(e,n,t){}}]);